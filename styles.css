/* Stream Saga – Panels aligned + compact rows + swatch-only color pickers
   Card base size set to 745×1040px (remembered) */

:root{
  --bg:#0b0f12; --panel:#12171c; --ink:#d4e1ee; --muted:#8ea0b2; --line:#1c232b;
  --blue:#39b8ff; --red:#ff3b3b;

  /* Card base (export size) — REMEMBERED */
  --card-w:744px;
  --card-h:1040px;
  --card-scale: 0.84;

  --panel-w-r: 320px;
  --panel-w-l: 510px;

  --radius-lg:28px; --radius-md:18px; --radius-sm:10px;
  --s-1:4px; --s-2:8px; --s-3:12px; --s-4:16px; --s-5:20px; --s-6:24px; --s-7:28px; --s-8:32px;
  --shadow-outer:0 10px 30px rgba(0,0,0,.45);
  --shadow-inset:inset 0 0 0 1px #0f151a;
  --font-ui:"Rubik",system-ui,Segoe UI,Arial,sans-serif;
  --font-display:"Rajdhani",system-ui,Segoe UI,Arial,sans-serif;
}

body{margin:0;background:#070b0f;color:var(--ink);font:400 13.5px/1.45 var(--font-ui)}
*{box-sizing:border-box}

/* Layout */
.wrap{
  display:grid;
  grid-template-columns: var(--panel-w-l) calc(var(--card-w) * var(--card-scale)) var(--panel-w-r);
  gap: 20px;
  justify-content:center; align-items:start;
  margin: 20px 0px 0px -100px;
  padding-bottom:20px; width:100%; max-width:100vw;
}
@media (max-width:1100px){
  .wrap{ grid-template-columns:1fr }
  .panel-left{order:-2}.canvasZone{order:-1}.panel-right{order:0}
}

/* Panels */
.panel{
  background:var(--panel); border:1px solid var(--line); border-radius:16px; padding:16px;
  box-shadow:var(--shadow-outer); width:fit-content; overflow:auto;
}
.panel-left{ min-width:var(--panel-w-l) } .panel-right{ min-width:var(--panel-w-r) }
.panel h1{font:700 20px/1 var(--font-display); margin:0 0 12px}

/* Grid container becomes vertical stack */
.grid{ display:flex; flex-direction:column; gap:12px }

/* Rows */
.form-row{ width:100% }
.form-row .lab{ color:#bcd0e2; font:700 12px var(--font-display) }
.row-2{ display:grid; grid-template-columns: 140px 1fr; align-items:center; gap:10px }
.row-3{ display:grid; grid-template-columns: 140px 1fr 40px; align-items:center; gap:10px }
/* Social rows: ICON : LABEL : FIELD : COLOR */
.socials{ border:1px solid #141a21; border-radius:12px; padding:12px }
legend{ padding:0 6px; color:#bcd0e2; font:700 12px var(--font-display) }
.social-row.row-4{ display:grid; grid-template-columns: 28px 110px 1fr 40px; align-items:center; gap:10px }
.icon-sm{ width:20px; height:20px; opacity:.95 }

/* Inputs */
input,select,textarea{background:#0e1419;border:1px solid #141a21;border-radius:10px;padding:8px 10px;color:var(--ink)}
textarea{resize:vertical;width:300px}

/* Swatch-only color inputs */
.hidden-color{
  position:absolute !important; width:0 !important; height:0 !important;
  opacity:0 !important; pointer-events:none !important; border:0 !important; padding:0 !important;
}
.swatch-btn{
  width:28px; height:28px; border:1px solid #2a3541; border-radius:6px;
  background:#0e1419; padding:0; display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
}
.swatch-btn .swatch{ width:20px; height:20px; border-radius:4px; border:1px solid #2a3541 }
.color-input.solo{ display:flex; align-items:center; gap:8px }

/* Canvas & buttons */
.canvasZone{display:flex;flex-direction:column;align-items:center;gap:10px;min-width:0}
.card-viewport{ height:calc(var(--card-h)*var(--card-scale)); width: 100%; }
.card-viewport>.card{ transform:scale(var(--card-scale)); transform-origin:top left }

/* ALIGN the buttons to the card width */
.buttons-center{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  width: calc(var(--card-w) * var(--card-scale));
  justify-content:center;
  margin: 0 auto;
}

button{border:1px solid #1a2129;background:#0f151a;color:var(--ink);padding:8px 10px;border-radius:10px;cursor:pointer;font:700 12px var(--font-display)}
button:hover{border-color:#293544}
.exportNote{color:#8ea0b2;font-size:12px}

/* Card base */
.card{ width:var(--card-w); height:var(--card-h); border-radius:var(--radius-lg); border:2px solid #1a2129;
  box-shadow:var(--shadow-inset),var(--shadow-outer); position:relative; overflow:hidden;
  background:linear-gradient(180deg,var(--bg-top-border,#0a0d10),var(--bg-bottom-border,#0b0f12));
}

/* Decorative inner (kept inside the frame) */
.card-inner{
  height: 94%;
  position:absolute;inset:30px;border-radius:20px;z-index:0;
  background: linear-gradient(180deg, var(--bg-top, #0a0d10), var(--bg-bottom, #0b0f12));
}

/* Corners / frame (30px inset) */
.frame{position:absolute;inset:30px;z-index:1;pointer-events:none}
.frame-corner{position:absolute;width:60px;height:60px}
.frame-corner::before{content:"";position:absolute;inset:0;border:2px solid;background:transparent}
.frame-corner.tl{top:0;left:0}.frame-corner.tl::before{border-color:var(--red) transparent transparent var(--red);border-radius:18px 0 0 0}
.frame-corner.tr{top:0;right:0}.frame-corner.tr::before{border-color:var(--blue) var(--blue) transparent transparent;border-radius:0 18px 0 0}
.frame-corner.br{bottom:0;right:0}.frame-corner.br::before{border-color:transparent var(--red) var(--red) transparent;border-radius:0 0 18px 0}
.frame-corner.bl{bottom:0;left:0}.frame-corner.bl::before{border-color:transparent transparent var(--blue) var(--blue);border-radius:0 0 0 18px}

/* Header (no bottom border) */
.card-head{
  position:relative;z-index:2;display:grid;grid-template-columns:90px 1fr 90px;align-items:center;
  padding:40px 45px 15px;border-bottom:0;
}
.badge.element{
  padding:6px 9px;border-radius:10px;border:1px solid #182029;background:#0f14196A;
  font:700 13px var(--font-display);text-transform:uppercase;
  margin:auto; /* NEW: center the badge within its grid cell */
}
.title{display:flex;gap:8px;justify-content:center}
#titleName{font:700 28px var(--font-display);color:#cfe8ff}
#titleMod{font:800 22px var(--font-display);padding:2px 8px;border:1px solid #182029;border-radius:8px;background:#0e1419;color:#8cd6ff}
#titleMod:empty{display:none}
.stage{
  justify-self: end;  /* FIXED: was a typo before */
  display:flex; align-items:center; gap:8px;
  margin-right:0;      /* ensure it hugs the right edge of its 90px column */
  justify-content:flex-end; /* push inner content to the far right */
}
.stage img{display:none;width:40px;height:40px;border-radius:8px}

/* Art & sections — keep 30px side margins */
.card-art{position:relative;z-index:2;position:relative;z-index:1;margin:8px 45px 0;height:500px;border-radius:var(--radius-md);overflow:hidden;border:1px solid #141b22;background:#0f1317}
.card-art img{width:100%;height:100%;object-fit:cover}
.art-spacer{display:none}

/* Socials (above art in full-art) */
.card-socials{
  position:relative; z-index:2;
  display:flex;justify-content:center;align-items:center;gap:16px;
  margin:12px 45px 0;padding:8px 10px;border:1px solid #141b22;border-radius:12px;background:#0f14196A
}
.socialItem{display:flex;align-items:center;gap:8px;color:#b7ccde;font:700 12px var(--font-display)}
.socialItem span:empty{display:none}
.socialItem .icon{display:block;width:18px;height:18px}

.card-ability,.card-attack{position:relative;z-index:2;margin:12px 45px 0;padding:8px 10px;border:1px solid #141b22;border-radius:10px;background:#0f14196A;display:none}
.aa-head{display:flex;gap:8px;align-items:center;justify-content:flex-start;color:#cfe8ff}
.aa-title{font:700 15px var(--font-display)}
.ability-flag{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:8px;border:1px solid #1c2a36;background:linear-gradient(90deg,rgba(57,184,255,.18),rgba(255,59,59,.18));color:#d8ecff;font:800 11px var(--font-display);text-transform:uppercase;letter-spacing:.6px;box-shadow:0 0 8px rgba(57,184,255,.18),inset 0 0 8px rgba(255,59,59,.08)}
.card-attack .value{margin-left:auto;font:800 17px var(--font-display);color:#ffd8d8}
.card-ability p,.card-attack p{margin:6px 0 0;color:#b1c6d9;font:400 12.5px var(--font-ui)}

/* Flavour */
.card-flavour{
  position:absolute;
  left:35px;
  right:35px;
  bottom:80px;
  font-style:italic;
  text-align:center;
  background:#0e13186A;
  z-index:2;
}
.card-flavour:empty{display:none}

/* Credit bar */
.card-credit{
  position:absolute;left:42px;right:30px;bottom:30px;height:60px;
  display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px;
  color:#6a7c8f;font:700 11px var(--font-display);padding-top:8px;z-index:2;border-top:0;
}
.card-credit .credit-left{display:flex;align-items:center;gap:10px}
.card-credit .credit-left img{display:none;width:26px;height:26px;object-fit:contain;filter:drop-shadow(0 0 4px rgba(57,184,255,.25))}
.card-credit .credit-left span{font:700 12px var(--font-display);color:#cfe4ff}
.card-credit .credit-right{display:flex;align-items:center;gap:10px;justify-self:end}
.card-credit .credit-right #numOut{color:#cfe4ff;font:700 12px var(--font-display)}
.card-credit .credit-right .rarity svg{width:18px;height:18px}
.card-credit .credit-center{ position:absolute; left:50%; transform:translateX(-50%); white-space:nowrap; text-align:center; pointer-events:none; color:#8ea0b2 }

/* Full Art variant */
.card.fullart .card-inner{display:none;}
.card.fullart .card-art{position:relative;z-index:2; position:absolute; inset:0; margin:0; height:auto; border:none; border-radius:inherit; z-index:0; }
.card.fullart .card-art img{object-fit:cover}
.card.fullart .art-spacer{ display:block; height:500px; margin:8px 30px 0; }
.card.fullart .card-head{
  position:relative; z-index:2;
  border-bottom:0;
}
.remove-btn{
  width:28px; height:28px;
  border:1px solid #5a2230;
  border-radius:6px;
  background:#1a0e11;
  display:inline-flex; align-items:center; justify-content:center;
  font:800 16px var(--font-display);
  color:#ff5c5c;
  line-height:1;
  cursor:pointer;
}
.remove-btn:hover{ border-color:#7b2d3c; color:#ff7a7a }
.remove-btn .x{ pointer-events:none; }

/* Short screens */
@media (max-height:900px){ :root{ --card-scale:0.78 } }


/* Background image for Standard layout */
.bg-standard{
  position:absolute;
  inset:30px;
  width: 92%;
  height: 94%;
  left:30px; right:30px; top:30px; bottom:30px;
  object-fit: cover;
  border-radius:20px;
  pointer-events:none;
  mix-blend-mode: normal;
  opacity: 0.9;
  z-index: 2;
}
.card .card-inner{ position:absolute; inset:30px; border-radius:20px; z-index: 1; }
.card .card-head, .card .card-socials, .card .card-ability, .card .card-attack, .card .card-flavour, .card .card-credit, .card .card-art { z-index:2; }
.card .frame{ z-index:2; }

/* Title modifier image */
.title-mod-img{
  display:inline-block;
  height: 24px;
  vertical-align: middle;
  margin-left: 6px;
}
@media (min-width: 800px){
  .title-mod-img{ height: 28px; }
}

/* Inline SVG icon sizing for socials */
.icon-sm, .card-socials .icon{ width:18px; height:18px; flex:0 0 auto; }

.card.no-frame .frame {
  display: none;
}


/* -------------------- Header / Nav -------------------- */
.container{ width:min(1150px, 92%); margin-inline:auto; }
.site-header{
  border-bottom:1px solid #111820;
  background: #0b1117cc;
  backdrop-filter: blur(8px);
  position: sticky; top:0; z-index:50;
}
.header-inner{ display:flex; gap:16px; align-items:center; padding:14px 0; }
.brand{ font-weight:800; letter-spacing:.2px; font-size:1.08rem; color:var(--ink); display:flex; gap:8px; align-items:center; }
.brand-glyph{ filter: drop-shadow(var(--glow)); }

.nav{ margin-left:auto; display:flex; gap:16px; align-items:center; }

/* Make ALL nav links pop, even if class missing */
.nav a, .nav-link{
  color:var(--ink); opacity:.95; position:relative; padding:6px 2px;
}
.nav a::after, .nav-link::after{
  content:''; position:absolute; left:0; bottom:-3px; width:0; height:2px;
  background: var(--brand-gradient); transition: width .2s ease;
}
.nav a:hover::after, .nav-link:hover::after{ width:100%; }

.lang-switch{ display:flex; gap:8px; align-items:center; opacity:.95; }

/* Pills look modern even if not using .pill class */
.lang-switch a, .pill{
  padding:6px 12px; border-radius:999px; border:1px solid #142130;
}
.lang-switch a.active, .pill.active{
  border-color: transparent; background: var(--brand-gradient);
  color:#04121a; font-weight:700;
}

/* -------------------- Footer -------------------- */
.site-footer{ border-top:1px solid #111820; padding:18px 0; color:var(--muted); }
