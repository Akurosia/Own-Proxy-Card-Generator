/* Stream Saga – Two Panels, 1080p-friendly, Full Art keeps positions */

:root{
  --bg:#0b0f12; --panel:#12171c; --ink:#d4e1ee; --muted:#8ea0b2; --line:#1c232b;
  --blue:#39b8ff; --red:#ff3b3b;

  /* Card base size (logical pixels for export) */
  --card-w:744px; --card-h:1038px;

  /* Display scale so the card fits on 1080p screens without scroll */
  --card-scale: 0.84;

  --radius-lg:28px; --radius-md:18px; --radius-sm:10px;
  --s-1:4px; --s-2:8px; --s-3:12px; --s-4:16px; --s-5:20px; --s-6:24px; --s-7:28px; --s-8:32px;
  --shadow-outer:0 10px 30px rgba(0,0,0,.45);
  --shadow-inset:inset 0 0 0 1px #0f151a;
  --font-ui:"Rubik",system-ui,Segoe UI,Arial,sans-serif;
  --font-display:"Rajdhani",system-ui,Segoe UI,Arial,sans-serif;
}

body{margin:0;background:#070b0f;color:var(--ink);font:400 13.5px/1.45 var(--font-ui)}
*{box-sizing:border-box}

/* Layout */
.wrap{
  display:grid;
  grid-template-columns: 300px minmax(0,1fr) 300px;
  gap: 20px;
  max-width:min(1600px,96vw);
  margin:20px auto;
  padding-bottom:20px;
}
@media (max-width: 1250px){ .wrap{grid-template-columns: 280px minmax(0,1fr) 280px;} }
@media (max-width: 1100px){
  .wrap{grid-template-columns:1fr}
  .panel-left{order:-2}
  .canvasZone{order:-1}
  .panel-right{order:0}
}

/* Panels */
.panel{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:16px;
  padding:16px;
  box-shadow:var(--shadow-outer);
  width:fit-content;
  max-height:calc(100vh - 40px);
  overflow:auto;
}
.panel h1{font:700 20px/1 var(--font-display);margin:0 0 12px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.col2{grid-column:1/-1}
label{display:flex;flex-direction:column;gap:8px}
input,select,textarea{background:#0e1419;border:1px solid #141a21;border-radius:10px;padding:8px 10px;color:var(--ink)}
textarea{resize:vertical}
fieldset{border:1px solid #141a21;border-radius:12px;padding:12px}
legend{padding:0 6px;color:#bcd0e2;font:700 12px var(--font-display)}

/* Canvas & buttons */
.canvasZone{display:flex;flex-direction:column;align-items:center;gap:10px;min-width:0}
.card-viewport{
  width: calc(var(--card-w) * var(--card-scale));
  height: calc(var(--card-h) * var(--card-scale));
  display:flex; align-items:flex-start; justify-content:center;
}
.card-viewport > .card{ transform: scale(var(--card-scale)); transform-origin: top center; }

.buttons-center{display:flex;gap:10px;flex-wrap:wrap}
button{border:1px solid #1a2129;background:#0f151a;color:var(--ink);padding:8px 10px;border-radius:10px;cursor:pointer;font:700 12px var(--font-display)}
button:hover{border-color:#293544}
.exportNote{color:var(--muted);font-size:12px}

/* Card (base) */
.card{
  width: var(--card-w);
  height: var(--card-h);
  border-radius:var(--radius-lg);
  border:2px solid #1a2129;
  box-shadow:var(--shadow-inset),var(--shadow-outer);
  position:relative; overflow:hidden;
  background:linear-gradient(180deg,var(--bg-top,#0a0d10),var(--bg-bottom,#0b0f12));
}
.card-inner{position:absolute;inset:14px;border-radius:20px;z-index:0;border:1px solid #171d24;background:repeating-linear-gradient(135deg,#0e1318 0 10px,#0e1419 10px 20px);opacity:.25}

/* Frame corners (active radius 26px) */
.frame{position:absolute;inset:10px;z-index:1;pointer-events:none}
.frame-corner{position:absolute;width:60px;height:60px}
.frame-corner::before{content:"";position:absolute;inset:0;border:2px solid;background:transparent}
.frame-corner.tl{top:0;left:0}.frame-corner.tl::before{border-color:var(--red) transparent transparent var(--red);border-radius:26px 0 0 0}
.frame-corner.tr{top:0;right:0}.frame-corner.tr::before{border-color:var(--blue) var(--blue) transparent transparent;border-radius:0 26px 0 0}
.frame-corner.br{bottom:0;right:0}.frame-corner.br::before{border-color:transparent var(--red) var(--red) transparent;border-radius:0 0 26px 0}
.frame-corner.bl{bottom:0;left:0}.frame-corner.bl::before{border-color:transparent transparent var(--blue) var(--blue);border-radius:0 0 0 26px}

/* Header */
.card-head{position:relative;z-index:2;display:grid;grid-template-columns:110px 1fr 150px;align-items:center;padding:18px 24px 10px}
.badge.element{padding:6px 9px;border-radius:10px;border:1px solid #182029;background:#0f1419;font:700 13px var(--font-display);text-transform:uppercase}
.badge.calm{color:#a7d9ff}.badge.busy{color:#ffb1b1}.badge.friendly{color:#b9ffb7}.badge.chaotic{color:#ffb7ff}
.title{display:flex;gap:8px;justify-content:center}
#titleName{font:700 28px var(--font-display);color:#cfe8ff}
#titleMod{font:800 22px var(--font-display);padding:2px 8px;border:1px solid #182029;border-radius:8px;background:#0e1419;color:#8cd6ff}
#titleMod:empty{display:none}
.stage{justify-self:end;display:flex;align-items:center;gap:8px}
.stage img{display:none;width:40px;height:40px;border-radius:8px}

/* Art (standard) */
.card-art{position:relative;z-index:1;margin:8px 24px 0;height:500px;border-radius:var(--radius-md);overflow:hidden;border:1px solid #141b22;background:#0f1317}
.card-art img{width:100%;height:100%;object-fit:cover}

/* Spacer (off by default; used in Full Art to preserve layout flow) */
.art-spacer{display:none}

/* Socials (assets icons) */
.card-socials{display:flex;justify-content:center;align-items:center;gap:16px;margin:12px 24px 0;padding:8px 10px;border:1px solid #141b22;border-radius:12px;background:#0f1419}
.socialItem{display:flex;align-items:center;gap:8px;color:#b7ccde;font:700 12px var(--font-display)}
.socialItem span:empty{display:none}
.socialItem .icon{display:block;width:18px;height:18px}

/* Ability & Attacks */
.card-ability,.card-attack{position:relative;z-index:2;margin:12px 24px 0;padding:8px 10px;border:1px solid #141b22;border-radius:10px;background:#0f1419;display:none}
.aa-head{display:flex;gap:8px;align-items:center;justify-content:flex-start;color:#cfe8ff}
.aa-title{font:700 15px var(--font-display)}
.ability-flag{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:8px;border:1px solid #1c2a36;background:linear-gradient(90deg,rgba(57,184,255,.18),rgba(255,59,59,.18));color:#d8ecff;font:800 11px var(--font-display);text-transform:uppercase;letter-spacing:.6px;box-shadow:0 0 8px rgba(57,184,255,.18),inset 0 0 8px rgba(255,59,59,.08)}
.card-attack .value{margin-left:auto;font:800 17px var(--font-display);color:#ffd8d8}
.card-ability p,.card-attack p{margin:6px 0 0;color:#b1c6d9;font:400 12.5px var(--font-ui)}

/* Flavour bottom */
.card-flavour{position:absolute;left:22px;right:22px;bottom:calc(60px + 10px);padding:10px;font-style:italic;text-align:center;border-left:3px solid #1d2a34;background:#0e1318;border-radius:10px;z-index:2}
.card-flavour:empty{display:none}

/* Credit bar */
.card-credit{position:absolute;left:22px;right:22px;bottom:12px;height:60px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px;color:#6a7c8f;font:700 11px var(--font-display);border-top:1px solid #151c23;padding-top:8px;z-index:2}
.card-credit .credit-left{display:flex;align-items:center;gap:10px}
.card-credit .credit-left img{display:none;width:26px;height:26px;object-fit:contain;filter:drop-shadow(0 0 4px rgba(57,184,255,.25))}
.card-credit .credit-left span{font:700 12px var(--font-display);color:#cfe4ff}
.card-credit .credit-center{text-align:center}
.card-credit .credit-right{display:flex;align-items:center;gap:10px;justify-self:end}
.card-credit .credit-right #numOut{color:#cfe4ff;font:700 12px var(--font-display)}
.card-credit .credit-right .rarity svg{width:18px;height:18px;fill:#c9c9c9}
.rarity.common svg{fill:#c9c9c9}.rarity.uncommon svg{fill:#8cd6ff}.rarity.rare svg{fill:#ffd700}.rarity.ultra svg{fill:#ff3b3b}

/* -------- Full Art variant (art behind; positions preserved) -------- */
.card.fullart .card-inner{display:none;} /* cleaner */
.card.fullart .card-art{
  position:absolute; inset:0; margin:0; height:auto; border:none; border-radius:inherit; z-index:0;
}
.card.fullart .card-art img{object-fit:cover}

/* Spacer takes the place of the standard art block to keep layout identical */
.card.fullart .art-spacer{
  display:block;
  height:500px;
  margin:8px 24px 0;
}

/* Optional: subtle glass for content so it’s readable on busy full-art */
.card.fullart .card-head{
  position:relative; z-index:2;
  background: linear-gradient(180deg, rgba(5,8,12,.75), rgba(5,8,12,.05) 90%);
  border-bottom: 1px solid rgba(20,27,34,.35);
}
.card.fullart .card-socials,
.card.fullart .card-ability,
.card.fullart .card-attack{
  background: rgba(15,21,26,.72);
  border-color: rgba(20,27,34,.55);
  backdrop-filter: blur(2px);
}

/* Tweak scale on short screens */
@media (max-height: 900px){
  :root{ --card-scale: 0.78; }
}
